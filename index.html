<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang='en' xml:lang='en' xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>
      Game of Life - with alterations
    </title>

<!-- Include source files -->
    <script type='text/javascript' src='src/game-of-life.js'></script>
    <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js'></script>

    <style type="text/css">
      canvas { border: 1px solid black; }
    </style>

  </head>

  <body>
    <canvas id="life_board" width="400" height="400">
      This game/demo requires html5 canvas elements.  Sorry if it does not render...
    </canvas>

    <div id='game-of-life'></div>
    <a href='#tick' id='ticker'>Tick</a> | <a href='#autoplay' id='autoplay'>Autoplay</a> | <a href='#randomize' id='randomize'>Randomize</a>


<!--  pass canvas to class -->
    <script type='text/javascript'>

      var canvas = document.getElementById('life_board');
      var ctx = canvas.getContext('2d');

      world = new World(10, 10, ctx, 40);
      var autoplay = false;

      $('#ticker').click(function(event){
        event.preventDefault();
        autoplay = false;
        world.tick();
        world.render();
      });
      function autoplayClojure() {
        if(autoplay) {
          world.tick();
          world.render();
          setTimeout('autoplayClojure();', 50);
        }
      }
      $('#autoplay').click(function(event){
        event.preventDefault();
        autoplay = !autoplay;
        autoplayClojure();
      });

      $('#randomize').click(function(event){
        event.preventDefault();
        autoplay = !autoplay;
        world.randomize();
        world.render();
        autoplay = false;
      });

      $('#game-of-life').on('click', '.cell', function(){
        autoplay = false;
        var x = parseInt($(this).attr('data-x'));
        var y = parseInt($(this).attr('data-y'));

        world.toggle(x, y);
      });
    </script>
  </body>
</html>
